//题目：二叉树已知前序、中序，求后序
//前序：根左右
//中序：左根右
//后序：左右根
//递归递归递归
//一个前序，一个中序
//先通过前序找到根
//再通过根将中序劈开，分为左右子树（可知左右子树长度）
//通过左右子树长度，在前序中找到子树
//获得一个左子树前序、一个左子树中序；一个右子树前序、一个右子树中序
//好的可以回到第7行惹
//每步的递归，后，要输出根。嘛，毕竟是后序啊
#include<bits/stdc++.h>
using namespace std;
int n;
int be[1005],in[1005];
int flag=0;
void findx(int l1,int r1,int l2,int r2)
{
	if(l1<=r1)
	{int root=be[l1];
	int k;
	for(int i=l2;i<=r2;i++)
    {
        if(in[i]==root)
        {
            k=i;
            break;
        }
    }
	findx(l1+1,l1+k-l2,l2,k-1);
	findx(l1+1+k-l2,r1,1+k,r2);
	if(flag==0)
	{cout<<root;
	flag=1;}
	else cout<<" "<<root;
	}
	else return;
}
int main()
{
    cin>>n;
    for(int i=0;i<n;i++)
    {
        cin>>be[i];
    }
    for(int i=0;i<n;i++)
    {
        cin>>in[i];
    }
    findx(0,n-1,0,n-1);
    return 0;
}
